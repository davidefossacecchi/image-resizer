<html>
	<head>
		<!--Web App that permits to load a banch of local images and resize them-->
		<title>Image Resizer</title>
		<meta content="width=device-width, initial-scale=1.0" name="viewport">
		<script type="text/javascript" src="js/FileSaver.min.js" defer></script>
		<script type="text/javascript" src="js/jszip.min.js" defer></script>
		<script type="text/javascript" src="js/vendor/jquery.min.js" defer></script>
		<script type="text/javascript" src="js/vendor/what-input.min.js" defer></script>
		<script type="text/javascript" src="js/foundation.js" defer></script>
		<script type="text/javascript" src="js/angular.min.js" defer></script>
		<script type="text/javascript" src="js/app.js" defer></script>
		<link rel="stylesheet" type="text/css" href="css/foundation.min.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<div class="top-bar">
			<div class="top-bar-left">
				<img src="img/resize.png"/><h5>Image Resizer</h5>
			</div>
		</div>
		<div class = "wrapper" ng-app="imageResizer" ng-controller="irController">
			<form name="settingsForm">
				<div class="row">
					<div class="medium-7 small-centered columns">
						<div class="row">
							<div class="fileUpload hollow button small-3 small-centered columns">
			    				<span>Choose Files</span>
			    				<input type="file" class="upload" id = "files" accept="image/*" autocomplete="off" fileread = "images" multiple required>
							</div>
							<div class="small-9 columns">
								<div class="row" style="padding-top:11px;">
									<div class="small-3 columns">
										<label class="text-right middle" for="width">Save as:</label>
									</div>
								    <div class="small-9 columns">
								    	<div class="input-group">
								    		<input class="input-group-field" type="text" name="zip" ng-model="zipname" pattern="[a-zA-Z0-9]*" required>
								    		<span class="input-group-label">.zip</span>
								    	</div>
								    </div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="medium-4 small-12 columns">
								<div class="small-2 columns">
									<label class="text-right middle" for="width">Width:</label>
								</div>
								<div class="small-9 columns">
									<div class="input-group">
										<input type="number" class="input-group-field" name="width" id="width" autocomplete="off" value="1920" ng-model="width" required>
										<span class="input-group-label">px</span>
									</div>
								</div>
							</div>
							<div class="medium-4 small-12 columns">
								<div class="small-2 columns">
									<label class="text-right middle" for="height">Height:</label>
								</div>
								<div class="small-9 columns">
									<div class="input-group">
										<input class="input-group-field" type="number" name="height" id="height" autocomplete="off" value="1080" ng-model="height" required>
										<span class="input-group-label">px</span>
									</div>
								</div>
							</div>
							<div class="medium-3 small-7 small-centered columns">
								<input id="crop" type="checkbox"  ng-model="crop"><label style="margin-left:5px;" class="middle" for="crop"> Crop</label>
							</div>
						</div>
						<div class="row">
							<div class="small-3 columns">
								<label class="text-right middle">Compression [%]:</label>
							</div>
							<div class="small-7 columns">
								<div class="slider" data-slider data-initial-start="80" step="1">
									<span class="slider-handle" data-slider-handle role="slider" tabindex="0" aria-controls="compression"></span>
									<span class="slider-fill" data-slider-fill></span>
								</div>
							</div>
							<div class="small-2 columns">
							  	<input type="number" id="compression" ng-model="compression" required>
							</div>
						</div>
						<div class="row">
							<div class="small-5 small-centered columns">
								<button class="hollow button" ng-class="{ 'disabled' : settingsForm.$invalid || images.length < 1}"type="button" id="go" ng-click="resize()" ng-disabled="settingsForm.$invalid || images.length < 1">Resize</button>
								<button class="hollow button"  ng-class="{ 'disabled' : settingsForm.$invalid || images.length < 1}" type="button" id="save" ng-click="save()"  ng-disabled="settingsForm.$invalid || images.length < 1">Save</button>
							</div>
						</div>
					</div>
				</div>
			</form>
			<div id="thumbnails">
				<h3 ng-if="images.length > 0">Your Pictures</h2>
				<img class="thumbnail" ng-repeat="image in images" src="{{image.src}}"/>
			</div>

			<div id="iterations">
				<canvas draw="image" ng-repeat="image in images"></canvas>
			</div>
		<div>
	</body>
</html>